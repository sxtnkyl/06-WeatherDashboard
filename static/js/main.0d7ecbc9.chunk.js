(this["webpackJsonp06-weather-dashboard"]=this["webpackJsonp06-weather-dashboard"]||[]).push([[0],{25:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(20),i=n.n(a),s=n(8),u=n(3),o=n(9),d=(n(25),Object(r.createContext)(null)),l=n(4),j=n.n(l),p=n(6),h=n(11),b=n.n(h),m=function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({url:"https://".concat("api.openweathermap.org/data/2.5/","weather?q=").concat(t,"&appid=").concat("79ab7da9722f1ab320fcf725388d7613"),type:"GET"}).then((function(e){return e})).catch((function(e){return console.log(e),e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({url:"https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t,"&lon=").concat(n,"&units=imperial&exclude=minutely,hourly,alerts&appid=").concat("79ab7da9722f1ab320fcf725388d7613"),type:"GET"}).then((function(e){return e})).catch((function(e){return console.log(e),e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(e,t){var n={current:null,forecast:null},r=[],c={name:e,date:"get moment",icon:null,temp:null,maxTemp:null,minTemp:null,windSpd:null,humidity:null,uv:null},a=Object(u.a)({},c);a.date=f(t.current.dt),a.icon=t.current.weather[0].icon,a.temp=t.current.temp,a.windSpd=t.current.wind_speed,a.humidity=t.current.humidity,a.uv=t.current.uvi,n.current=a;for(var i=1;i<6;i++){var s=t.daily[i],o=Object(u.a)({},c);o.date=f(s.dt),o.icon=s.weather[0].icon,o.maxTemp=s.temp.max,o.minTemp=s.temp.min,o.windSpd=s.wind_speed,o.humidity=s.humidity,o.uv=s.uvi,r.push(o)}return n.forecast=r,n},f=function(e){return new Date(1e3*e).toLocaleDateString("en-US")},v=function(e){return["50d","13d","10d","11d"].includes(e)?"red":["09d"].includes(e)?"yellow":"green"},y=n(0),C=function(){var e=Object(r.useContext)(d),t=e.local,n=e.setLocal,c=Object(r.useState)(""),a=Object(o.a)(c,2),i=a[0],l=a[1],h=function(e){var n=Object(s.a)(t.searchedCities);return t.searchedCities.includes(e)||n.push(e),n},b=function(){var e=Object(p.a)(j.a.mark((function e(){var r,c,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(i);case 2:return r=e.sent,c=r.data,e.next=6,x(c.coord.lat,c.coord.lon);case 6:a=e.sent,s=O(c.name,a.data),n(Object(u.a)(Object(u.a)({},t),{},{searchedCities:h(c.name),currentCity:c.name,currentCityData:s.current,currentCityForecast:s.forecast}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"text",onChange:function(e){return l(e.target.value)},value:i,placeholder:"Search for a City",list:"hist"}),Object(y.jsx)("datalist",{id:"hist",children:t.searchedCities.map((function(e){return Object(y.jsx)("option",{value:e,children:e})}))}),Object(y.jsx)("button",{onClick:b,children:"Search City"})]})},w=function(){var e=Object(r.useContext)(d),t=e.local;e.setLocal;return Object(y.jsxs)("nav",{className:"nav-container",children:[Object(y.jsx)("span",{children:null==t.currentCityData?"fallback icon":t.currentCityData.name}),Object(y.jsx)(C,{})]})},g=function(){var e=Object(r.useContext)(d),t=e.local,n=(e.setLocal,t.currentCityData),c=n.date,a=n.icon,i=n.temp,s=n.windSpd,u=n.humidity,o=n.uv,l="http://openweathermap.org/img/wn/".concat(a,"@2x.png"),j=v(a);return Object(y.jsxs)("div",{style:{border:"1px solid purple"},children:[Object(y.jsx)("div",{children:c}),Object(y.jsx)("img",{src:l,style:{border:"1px solid ".concat(j)}}),Object(y.jsxs)("div",{children:["Current Temp: ",i,"\xb0F"]}),Object(y.jsxs)("div",{children:["Wind Speed: ",s,"mph"]}),Object(y.jsxs)("div",{children:["Humidity: ",u,"%"]}),Object(y.jsxs)("div",{children:["UV Index: ",o]})]})},S=function(e){var t=e.data,n=t.date,r=t.icon,c=t.maxTemp,a=t.minTemp,i=t.windSpd,s=t.humidity,u=t.uv,o="http://openweathermap.org/img/wn/".concat(r,"@2x.png"),d=v(r);return Object(y.jsxs)("div",{style:{border:"1px solid white"},children:[Object(y.jsx)("div",{children:n}),Object(y.jsx)("img",{src:o,style:{border:"1px solid ".concat(d)}}),Object(y.jsxs)("div",{children:["Hi: ",c,"\xb0F"]}),Object(y.jsxs)("div",{children:["Low: ",a,"\xb0F"]}),Object(y.jsxs)("div",{children:["Wind Speed: ",i,"mph"]}),Object(y.jsxs)("div",{children:["Humidity: ",s,"%"]}),Object(y.jsxs)("div",{children:["UV Index: ",u]})]})},T=function(){var e=Object(r.useContext)(d),t=e.local;e.setLocal;return Object(y.jsx)("div",{style:{border:"1px solid black"},children:t.currentCityForecast?t.currentCityForecast.map((function(e,t){return Object(y.jsx)(S,{data:e},t)})):"loading forecast data"})},k=function(){return Object(y.jsxs)("section",{className:"display-body-container",children:[Object(y.jsx)(g,{}),Object(y.jsx)(T,{})]})},D=function(){var e=Object(r.useState)({searchedCities:[],currentCity:null,currentCityData:null,currentCityForecast:null}),t=Object(o.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("prevCities"));null!==e&&c(Object(u.a)(Object(u.a)({},n),{},{searchedCities:Object(s.a)(e)}))}),[]),Object(r.useEffect)((function(){localStorage.setItem("prevCities",JSON.stringify(n.searchedCities))}),[n.searchedCities]);var a=Object(r.useMemo)((function(){return{local:n,setLocal:c}}),[n,c]);return Object(y.jsxs)(d.Provider,{value:a,children:[Object(y.jsx)(w,{}),n.currentCity&&Object(y.jsx)(k,{})]})};n(46);i.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(D,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.0d7ecbc9.chunk.js.map